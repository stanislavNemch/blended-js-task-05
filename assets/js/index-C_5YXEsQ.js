import{i as o}from"./vendor-common-CsNBBziS.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))p(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const d of i.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&p(d)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function p(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();const s={form:document.getElementById("task-form"),titleInput:document.getElementById("task-title-input"),textInput:document.getElementById("task-text-input"),taskList:document.getElementById("task-list"),themeSwitcher:document.getElementById("theme-switcher"),body:document.body},a={save(t,e){try{const n=JSON.stringify(e);localStorage.setItem(t,n)}catch(n){o.error({title:"–ü–æ–º–∏–ª–∫–∞",message:`Set state error: ${n.message}`,position:"topRight"})}},load(t){try{const e=localStorage.getItem(t);return e===null?void 0:JSON.parse(e)}catch(e){o.error({title:"–ü–æ–º–∏–ª–∫–∞",message:`Get state error: ${e.message}`,position:"topRight"});return}}},f="todo-tasks",c="theme",l="form-input-title",u="form-input-text",h={createTaskMarkup({id:t,title:e,text:n}){return`
            <li class="task-item" data-id="${t}">
                <div class="task-content">
                    <h3>${e}</h3>
                    <p>${n}</p>
                </div>
                <button class="btn btn-delete" data-id="${t}">–£–¥–∞–ª–∏—Ç—å</button>
            </li>
        `},renderTasks(t){if(t.length===0)s.taskList.innerHTML='<p class="placeholder-text">–°–ø–∏—Å–æ–∫ –∑–∞–≤–¥–∞–Ω—å –ø–æ—Ä–æ–∂–Ω—ñ–π. –î–æ–¥–∞—Ç–∏ —â–æ—Å—å!</p>';else{const e=t.map(this.createTaskMarkup).join("");s.taskList.innerHTML=e}}},m={tasks:a.load(f)||[],init(){h.renderTasks(this.tasks)},addTask(t,e){if(!t.trim()||!e.trim())return o.error({title:"–ü–æ–º–∏–ª–∫–∞",message:"–ù–∞–∑–≤–∞ —Ç–∞ –æ–ø–∏—Å –∑–∞–≤–¥–∞–Ω–Ω—è –Ω–µ –º–æ–∂—É—Ç—å –±—É—Ç–∏ –ø–æ—Ä–æ–∂–Ω—ñ–º–∏!",position:"topRight"}),!1;const n={id:Date.now(),title:t.trim(),text:e.trim()};return this.tasks.push(n),this.saveAndRerender(),o.success({title:"–£—Å–ø—ñ—Ö",message:"–ó–∞–≤–¥–∞–Ω–Ω—è –¥–æ–¥–∞–Ω–æ!",position:"topRight"}),!0},deleteTask(t){this.tasks=this.tasks.filter(e=>e.id!==t),this.saveAndRerender(),o.success({title:"–£—Å–ø—ñ—Ö",message:"–ó–∞–≤–¥–∞–Ω–Ω—è –≤–∏–¥–∞–ª–µ–Ω–æ!",position:"topRight"})},saveAndRerender(){a.save(f,this.tasks),h.renderTasks(this.tasks)}},v=a.load(c);v==="dark"?(s.body.classList.add("dark"),s.themeSwitcher.textContent="üåô"):s.themeSwitcher.textContent="‚òÄÔ∏è";const g=a.load(l),k=a.load(u);g&&(s.titleInput.value=g);k&&(s.textInput.value=k);m.init();s.form.addEventListener("submit",t=>{t.preventDefault(),m.addTask(s.titleInput.value,s.textInput.value)&&(s.form.reset(),localStorage.removeItem(l),localStorage.removeItem(u),s.titleInput.focus())});s.titleInput.addEventListener("input",t=>{a.save(l,t.target.value)});s.textInput.addEventListener("input",t=>{a.save(u,t.target.value)});s.taskList.addEventListener("click",t=>{if(t.target.classList.contains("btn-delete")){const e=Number(t.target.dataset.id);m.deleteTask(e)}});s.themeSwitcher.addEventListener("click",()=>{s.body.classList.toggle("dark"),s.body.classList.contains("dark")?(a.save(c,"dark"),s.themeSwitcher.textContent="üåô"):(a.save(c,"light"),s.themeSwitcher.textContent="‚òÄÔ∏è")});
